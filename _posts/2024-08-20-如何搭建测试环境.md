---
layout:     post
title:      测试环境
subtitle:   搭建测试环境
date:       2024-08-20
author:     Xiaolei
header-img: /img/post-bg-article.jpg
catalog: true
tags:
    - Test
---
### 如何搭建测试环境
##### 理解三个环境（https://cloud.tencent.com/developer/article/1987698）
开发环境：开发环境就是开发人员在开发联调时比如前后端交互的本地环境，他们一般在本地开发完成后会将代码部署到测试环境，也就是提交测试。
测试环境：测试在测试环境测试完成之后，版本上线日，运维发布上线。
生产环境：生产环境就是线上环境，直接面向用户的环境。生产环境的管理权限是十分严格的，一般开发测试只有查询权限，像修改这些，都掌握在业务或者运维手里，更高的权限可能要经过管理层审批才可以执行。
日常工作中搭建最多的也是最经典的一套环境就是基于linux操作系统的Tomcat+Mysql+Jdk环境。

【Linux环境】------我搭建的是64位centos版本的linux系统

1.下载并安装一个VMware workstation, 这个是虚拟机的平台，后面要在里面搭建Linux系统。

2.下载一个centos安装包，linux版本有多种，比如说redhat、ubuntu、deepin、BT3，个人比较习惯使用centos,这里下载一个 CentOS-6.4-i386-bin-DVD1.iso,6.4版本的。

3.新建一个虚拟机，并把这个安装包导入进去，记住期间步骤有一步是需要建一个用户和设置密码，这里的用户是linux环境的普通账户，但是密码是根账户root和这个普通用户共用的密码

4.安装完成后，是图形化界面，一般我们要用到的是命令行界面，所以这里可以用快捷键 CTRL+ALT+F2，就可以切换到命令界面了。

5.用命令ifconfig查看IP 地址，然后可以考虑用Xshell来连接虚拟机，这样操作命令会比较方便，不用频繁的切换出来或者切换出去。

【JDK安装】

1.首先下载一个JDK版本
2.在本地解压后，用xftp上传到linux环境中去。上传的路径为：/usr/local
3.赋予JDK文件最高权限，不然后面使用或者引用会有权限问题阻塞你的操作（记得连接好你的xshell

4.配置JDK环境变量：

1）切换到顶级目录  cd ~

2)切换到上级目录 cd ..

3)切换到etc路径下 cd etc

4)编辑profile文件 vi profile

5）按下键盘的 i键，进入编辑模式，一直定位到profile文档的末尾【记住，是要你到文档末尾，不是要你删除文档！】！

6）配置JDK的环境变量，在profile中输入如下内容：

export JAVA_HOME=/usr/local/jdk1.8.0_65   【特别说明：这个就是你的jdk的安装路径！！！不要弄错了！要以你自己的路径为准！】

7）按住键盘的ESC键，然后输入 :wq，就保存了你刚刚设置的环境变量

8）让你刚刚设置的环境变量生效  source profile

9)如何查看你的JDK是否配置完成呢？输入命令 java -version,看到下面的说明JDK版本的截图，就说明你配置成功了！

【Tomcat】

1.首先下载 一个tomcat版本，我这里用的是apache-tomcat-6.0.35版本，apache-tomcat-6.0.35.zip是对应的压缩包，并在你本机进行解压；

2.可以用XFTP 直接把已经解压的apache-tomcat-6.0.35上传到 /usr/local路径，上传完毕，然后这里就需要对环境变量进行配置，然后后面的tomcat才会顺利启动

3.按步骤启动tomcat：

1）切换到顶级 目录 cd ~

2)切换到上级目录 cd ..

3)切换到启动命令所在的bin路径：cd /usr/local/apache-tomcat-6.0.37/bin

4）输入tomcat 启动命令  ./startup.sh,如果遇到下面的提示，就说明你对bin文件里面的命令操作权限不够，就需要赋予权限：

5）返回到bin的上级目录 cd ..

6)赋予 bin文件的最高权限 chmod 777 -R bin

7)切换到bin路径下  cd bin

8)然后再次执行tomcat启动命令：./startup.sh，出现如下截图，则表明启动成功。

9）一般默认的端口则是8080，所以直接在你的电脑的浏览器输入 你的ip地址加上端口号，即可以访问到tomcat的首页了。http://【你的linux服务器IP地址】:8080 

注意：ip地址 是你Linux服务器的ip地址，如何获取？--->在Linux中输入ifconfig 就可以获取到了！

10)但是任何配置都不会这么轻松就配置成功的，会出现防火墙关闭或者端口被占用的问题，这里我们可以切换到 tomcat下的bin 目录，执行下面这个命令，查看tomcat日志：./catalina.sh run, 一般日志格式如下：

注：如果访问不了，可以尝试关闭防火墙，在Linux下输入命令：service iptables stop,然后再访问就可以了！

11）在浏览器输入IP地址加端口号，如果看到tomcat 的首页，则表明成功了

【Mysql的配置】

1.切换到你需要安装mysql的路径  cd /usr/local

2.网上的安装方式都有很多，我们这里是自己搭建测试环境，可以直接选择在线安装，命令如下：yum install mysql-server，一直等待它安装完成，期间有些步骤需要询问是否继续，直接输入Y即可

3.安装完成后，启动mysql 服务，命令为：service mysqld start,看到如下截图，则说明安装mysql成功了

4.一般这样安装的mysql 都是默认为root根用户进行登录，密码也默认为空，所以输入下面的命令：mysql -u root -p, 然后密码处输入回车，即可登录到数据库了。如下所示：

就说明已经登陆到数据库了。

 6.如何利用本地的navicate连接linux服务器的数据库？并对数据库进行操作：

1）首先要新建一个用户，因为一般的数据库用户都是linux本机访问的，我们要从外面来访问linux的数据库，就要创建一个权限为%的用户

2）在xshell中登录到数据库中：mysql -u root -p 然后回车，要你输入密码的时候，你再回车就可以登录进去了，因为数据库默认用户是root,密码是空的

3）切换到mysql 数据库  use mysql

4)创建一个外面可以访问linux数据库服务器的用户：  grant  all privileges on *.* to 'root'@'%'  identified by '123456' with grant option;

5)刷新权限 ：flush privileges;

6)然后用navicate来登陆就好了！用 root用户，密码是 123456 具体怎么使用navicate连接数据库，请自行百度！

参考：https://www.cnblogs.com/liulinghua90/

以上就是基于linux系统的Tomcat+Mysql+Jdk环境搭建，当然这只是其中一种，比较常见的。
